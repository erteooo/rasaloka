<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Pengguna</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="../css/pengguna.css">
</head>
<body>
    <div class="sidebar">
        <a href="nextpage.html">
            <img src="../images/profil.jpg" alt="Admin profile picture" width="100" height="100"/>
        </a>
        <h2>admin 1</h2>
        <p>Online</p>
        <a href="produk.html">Produk</a>
        <a href="transaksi.html">Transaksi</a>
        <a href="pengguna.html">Pengguna</a>
    </div>
    <div class="content">
        <h1>Pengguna</h1>
        <div class="toolbar">
            <div class="search-container">
                <input id="searchInput" type="text" placeholder="Cari Nama Pengguna">
                <button onclick="searchUser()"><i class="fas fa-search"></i></button>
            </div>
        </div>
        <div class="table-container">
            <table border="1">
                <thead>
                    <tr>
                        <th>No</th>
                        <th>Nama Pengguna</th>
                        <th>Email</th>
                        <th>No HP</th>
                        <th>Alamat</th>
                        <th>Tindakan</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Elis Andikasari</td>
                        <td>Elisand@gmail.com</td>
                        <td>081234567890</td>
                        <td>Jl. Bhayangkara No 1</td>
                        <td>
                            <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700" onclick="banUser(this)">
                                Blokir
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Bettanuary Danu</td>
                        <td>Danu@gmail.com</td>
                        <td>081234567891</td>
                        <td>Jl. Yos Sudarso No. 2</td>
                        <td>
                            <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700" onclick="banUser(this)">
                                Blokir
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Kurnia Dwi</td>
                        <td>Kurnia@gmail.com</td>
                        <td>081234567892</td>
                        <td>Jl. Slamet Riyadi No. 3</td>
                        <td>
                            <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-700" onclick="banUser(this)">
                                Blokir
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="modal" id="userModal">
            <div class="modal-content">
                <span class="close" onclick="closeUserModal()">Ã—</span>
                <div id="userSearchResults"></div>
            </div>
        </div>
    </div>
    <script>
        function searchUser() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const rows = document.querySelectorAll('table tbody tr');
            const resultsContainer = document.getElementById('userSearchResults');
            let found = false;

            resultsContainer.innerHTML = '';

            rows.forEach(row => {
                const namaPengguna = row.cells[1].textContent.toLowerCase();
                if (namaPengguna.includes(searchTerm)) {
                    found = true;
                    const resultItem = document.createElement('div');
                    resultItem.className = 'result-item';
                    resultItem.innerHTML = `
                        <div>
                            <h3>Nama: ${row.cells[1].textContent}</h3>
                            <p>Email: ${row.cells[2].textContent}</p>
                            <p>No HP: ${row.cells[3].textContent}</p>
                            <p>Alamat: ${row.cells[4].textContent}</p>
                        </div>`;
                    resultsContainer.appendChild(resultItem);
                }
            });

            document.getElementById('userModal').style.display = found ? 'block' : 'none';

            if (!found) {
                const noResults = document.createElement('div');
                noResults.className = 'result-item';
                noResults.innerHTML = '<p>Hasil tidak ditemukan. Masukkan nama pengguna yang valid.</p>';
                resultsContainer.appendChild(noResults);
            }
        }

        function closeUserModal() {
            document.getElementById('userModal').style.display = 'none';
        }

        function banUser(button) {
            button.textContent = 'Terblokir';
            button.disabled = true;
            alert('Pengguna telah diblokir.');
        }
    </script>
</body>
</html>
